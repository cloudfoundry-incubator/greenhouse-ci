# Due to a failure in apply the July 2019 monthly patch rollup (Patch Tuesday) in Azure for 2012R2 we are temporarily
# removing Azure related jobs from the 2012R2 pipeline. We hope, and expect, that this issue will be resolved in
# future monthly patch releases, at which point we will stop applying this ops file, in order to return the Azure
# jobs to the pipeline

# Remove Azure from groups

- type: remove
  path: /groups/name=all/jobs/18 #print-azure-publishing-instructions
- type: remove
  path: /groups/name=all/jobs/17 #promote-azure
- type: remove
  path: /groups/name=all/jobs/6 #wuts-azure
- type: remove
  path: /groups/name=all/jobs/5 #test-azure
- type: remove
  path: /groups/name=all/jobs/4 #create-azure
- type: remove
  path: /groups/name=azure
- type: remove
  path: /groups/name=promote/jobs/5 #print-azure-publishing-instructions
- type: remove
  path: /groups/name=promote/jobs/4 #promote-azure

# Remove Azure resources

- type: remove
  path: /resources/name=azure-build-number
- type: remove
  path: /resources/name=azure-lock
- type: remove
  path: /resources/name=azure-download-lock
- type: remove
  path: /resources/name=azure-untested
- type: remove
  path: /resources/name=azure-base-vhd-uri
- type: remove
  path: /resources/name=azure-tested
- type: remove
  path: /resources/name=azure-stemcell-final
- type: remove
  path: /resources/name=azstemcell

# Remove Azure jobs

- type: remove
  path: /jobs/name=create-azure
- type: remove
  path: /jobs/name=test-azure
- type: remove
  path: /jobs/name=wuts-azure
- type: remove
  path: /jobs/name=print-azure-publishing-instructions
- type: remove
  path: /jobs/name=promote-azure

# Remove Azure references from other jobs

- type: remove
  path: /jobs/name=build/serial_groups/1 #azure-version
- type: remove
  path: /jobs/name=build/plan/put=azure-build-number #plan/aggregate
- type: remove
  path: /jobs/name=promote/plan/get=azure-tested
- type: remove
  path: /jobs/name=promote/plan/get=azure-base-vhd-uri
- type: remove
  path: /jobs/name=promote/plan/get=azure-build-number
- type: remove
  path: /jobs/name=promote/plan/get=stemcell-builder/passed/3 #wuts-azure
- type: remove
  path: /jobs/name=promote/plan/get=version/passed/3 #wuts-azure
- type: remove
  path: /jobs/name=promote/plan/task=ensure-versions-match/config/inputs/name=azure-tested

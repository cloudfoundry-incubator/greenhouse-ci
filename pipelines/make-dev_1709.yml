# GROUPS

# remove unnecessary groups
- type: remove
  path: /groups


# RESOURCES
- type: replace
  path: /resources/name=aws-regional/source/regexp
  value: light-bosh-stemcell-(.*)-aws-xen-hvm-windows2016-go_agent-us-east-1.tgz


# versions


# remove unnecessary resources
- type: remove
  path: /resources/name=major-stemcell
- type: remove
  path: /resources/name=aws-stemcell-final
- type: remove
  path: /resources/name=gcp-stemcell-final
- type: remove
  path: /resources/name=azstemcell
- type: remove
  path: /resources/name=azure-lock
- type: remove
  path: /resources/name=azure-base-vhd-uri
- type: remove
  path: /resources/name=azure-untested
- type: remove
  path: /resources/name=azure-tested
- type: remove
  path: /resources/name=azure-stemcell-final
- type: remove
  path: /resources/name=stemcell-builder-release
- type: remove
  path: /resources/name=vsphere-stemcell-final
- type: remove
  path: /resources/name=boshio
- type: remove
  path: /resources/name=pivnet-public-stemcells
- type: remove
  path: /resources/name=pivnet-internal-stemcells

# JOBS
# remove unnecessary jobs
- type: remove
  path: /jobs/name=create-aws/plan/0/aggregate/get=base-amis/passed
- type: remove
  path: /jobs/name=print-azure-publishing-instructions
- type: remove
  path: /jobs/name=test-azure
  # TODO: when create-azure is added back, ensure we don't override the stemcell in pm acceptance environment
- type: remove
  path: /jobs/name=wuts-azure
- type: remove
  path: /jobs/name=create-azure
- type: remove
  path: /jobs/name=promote-azure
- type: remove
  path: /jobs/name=promote-gcp
- type: remove
  path: /jobs/name=promote-vsphere
- type: remove
  path: /jobs/name=promote-aws
- type: remove
  path: /jobs/name=promote
- type: remove
  path: /jobs/name=ship-bosh-stemcell-builder

# configure gcp for dev
- type: replace
  path: /jobs/name=create-gcp/plan/task=create-stemcell/params/ACCOUNT_JSON
  value: ((MUSTANG-BOSH-WINDOWS-STEMCELLS_ACCOUNT_JSON))
- type: replace
  path: /jobs/name=create-gcp/plan/task=create-stemcell/ensure/params/ACCOUNT_JSON
  value: ((MUSTANG-BOSH-WINDOWS-STEMCELLS_ACCOUNT_JSON))
- type: replace
  path: /jobs/name=create-gcp/plan/put=gcp-2016-untested/params/file
  value: bosh-windows-stemcell/light-bosh-stemcell-*-google-kvm-windows2016-go_agent.tgz
- type: remove
  path: /jobs/name=create-gcp/plan/task=publish-stemcell

#create-vsphere-from-vmx
- type: replace
  path: /jobs/name=create-vsphere-from-vmx/plan/task=create-stemcell/tags
  value: [vsphere-windows-worker-dev]

#copy-regions-aws
- type: replace
  path: /jobs/name=copy-regions-aws/plan/0/do/task=copy-stemcells/params/REGIONS
  value: "us-east-2,us-west-1,us-west-2,ca-central-1,ap-south-1,ap-northeast-2,ap-southeast-1,ap-southeast-2,ap-northeast-1,eu-central-1,eu-west-1,eu-west-2,sa-east-1"

#build
- type: replace
  path: /jobs/name=build/plan/0/aggregate/get=version/params/bump
  value: minor
